/*! angular-jqm - v0.0.1-SNAPSHOT - 2013-10-16
 * https://github.com/angular-widgets/angular-jqm
 * Copyright (c) 2013 OPITZ CONSULTING GmbH; Licensed MIT */
!function(a,b){"use strict";function c(a){for(var b=0;b<a.length;b++)d(a[b])}function d(a){k.animation("."+a,["$timeout","$animationComplete",function(a,b){function c(c){return function(d,e){var f;return d.removeClass("in out"),a(function(){d.addClass(c),f=b(d,e,!0)},1,!1),function(){(f||l)()}}}var d=c("in"),e=c("out");return{enter:d,leave:e,move:d,addClass:function(a,b,c){"out"===b?e(a,c):d(a,c)},removeClass:function(a,b,c){"out"===b?d(a,c):e(a,c)}}}])}function e(a){for(var b=0;b<a.length;b++)f(a[b],"page-"+a[b])}function f(a,b){k.animation("."+b,["$animationComplete","$timeout",function(b,c){function d(d,e){function f(){d.removeClass("ui-page-pre-in"),d.css("z-index",""),d.addClass("in"),h=b(d,function(){e()})}function g(){i=!0,(h||l)(),d.removeClass("ui-page-pre-in in "+a),d.css("z-index","")}var h,i;return d.addClass("ui-page-pre-in ui-page-active "+a),d.css("z-index",-10),c(function(){i||f()},1,!1),g}function e(d,e){function f(){d.addClass("out"),h=b(d,function(){e()})}function g(){i=!0,(h||l)(),d.removeClass("ui-page-active out "+a)}var h,i;return d.addClass(a),c(function(){i||f()},1,!1),g}return{enter:d,leave:e,move:d,addClass:function(a,b,c){"in"===b?d(a,c):e(a,c)},removeClass:function(a,b,c){"out"===b?d(a,c):e(a,c)}}}])}function g(a,b){return["jqmConfig",function(c){return{restrict:"A",scope:!0,require:["^?jqmPage","^?jqmView"],controller:l,link:function(d,e,f,g){var h=d.hasOwnProperty("$theme"),i=g[0]||g[1];h||(d.$theme=c.secondaryTheme),e.addClass(b+" ui-bar-"+d.$theme),i&&(i.$element.prepend(e),i.$scope[a]=!0,e.bind("$destroy",function(){i.$scope[a]=!1}))}}}]}function h(){return{restrict:"E",require:["?^jqmHeader","?^jqmFooter"],link:function(a,b,c,d){(d[0]||d[1])&&b.addClass("ui-title")}}}function i(a){return function(){return{restrict:"A",replace:!0,transclude:!0,scope:{},template:a?'<li jqm-scope-as="jqmLi"  class="ui-li ui-li-divider ui-bar-{{$scopeAs.jqmLi.$theme}}"  jqm-class="{\'ui-first-child\': $scopeAs.jqmLi.$position.first, \'ui-last-child\': $scopeAs.jqmLi.$position.last}"  ng-transclude></li>':'<li jqm-scope-as="jqmLi"  class="ui-li ui-li-static ui-btn-up-{{$scopeAs.jqmLi.$theme}}"  jqm-class="{\'ui-first-child\': $scopeAs.jqmLi.$position.first, \'ui-last-child\': $scopeAs.jqmLi.$position.last}"  ng-transclude></li>'}}}function j(a){function b(b,c,d,e){var f=e[1],g=f&&f.getPanel(a);g&&(g.scope.pullable=!0,b.$on("$destroy",function(){g.scope.pullable=!1}),b.$on("$disconnect",function(){g.scope.pullable=!1}))}return function(){return{restrict:"A",link:b,require:["jqmPage","^?jqmPanelContainer"]}}}var k=b.module("jqm",["ngTouch","ngRoute","ngAnimate","ajoslin.scrolly","ui.bootstrap.position"]),l=b.noop,m=(b.isDefined,b.element),n=b.forEach,o=b.isString,p=(b.equals,b.isObject,b.isArray);b.extend;var q=["slide","fade","pop","slidefade","slidedown","slideup","flip","turn","flow","modal"];c(q),e(q),k.directive("jqmButton",["jqmClassDirective","jqmOnceClassDirective",function(a,c){var d=b.isDefined;return{restrict:"A",transclude:!0,template:'<span class="ui-btn-inner">  <span class="ui-btn-text" ng-transclude></span>  <span ng-if="$scopeAs.jqmBtn.icon" class="ui-icon {{$parent.icon}}">&nbsp;</span></span>',scope:{iconpos:"@",icon:"@",mini:"@",shadow:"@",corners:"@",inline:"@"},require:"^?jqmControlGroup",compile:function(e,f){if(f.shadow=d(f.shadow)?"true"===f.shadow:"true",f.corners=d(f.corners)?"true"===f.corners:"true",e[0].className+=" ui-btn",f.$set("jqmOnceClass","{{$scopeAs.jqmBtn.getIconPos() ? 'ui-btn-icon-'+$scopeAs.jqmBtn.getIconPos() : ''}}"),f.$set("jqmClass","{'ui-first-child': $scopeAs.jqmBtn.$position.first,'ui-submit': $scopeAs.jqmBtn.type,'ui-last-child': $scopeAs.jqmBtn.$position.last,'ui-shadow': $scopeAs.jqmBtn.shadow,'ui-btn-corner-all': $scopeAs.jqmBtn.corners,'ui-mini': $scopeAs.jqmBtn.isMini(),'ui-btn-inline': $scopeAs.jqmBtn.isInline()}"),"input"===e[0].tagName.toLowerCase())throw new Error("Cannot have jqm-button <input> - use <button> instead!");var g;return f.jqmButton&&(g=b.element("<button>"),g.addClass("ui-btn-hidden"),g.attr("type",f.jqmButton),f.name&&g.attr("name",f.name),f.ngDisabled?g.attr("ngDisabled",f.ngDisabled):f.disabled&&g.attr("disabled",f.disabled),e.append(g)),function(d,e,f,g){function h(){return d.mini||g&&g.$scope.mini}function i(){return d.iconpos||g&&g.$scope.iconpos||(d.icon?"left":"")}function j(){return g&&"horizontal"===g.$scope.type||d.inline}e.addClass("ui-btn-up-"+d.$theme),d.$$scopeAs="jqmBtn",d.isMini=h,d.getIconPos=i,d.isInline=j,d.type=f.jqmButton,b.forEach(a,function(a){a.link(d,e,f)}),b.forEach(c,function(a){a.link(d,e,f)})}}}}]),k.directive("jqmCachingView",["jqmViewDirective","jqmViewCache","$injector","$q",function(a,c,d,e){function f(f,j){function k(a,b,d){var f=c.get(a);return!a&&b?m("",b):f?f===d?m(a,b):e.when(f):l.fetchView(a).then(function(b){return b.clear=g,b.scope.$destroy=i,b.element.remove=h,c.put(a,b)})}var l=this;b.forEach(a,function(a){d.invoke(a.controller,l,{$scope:f,$element:j})}),j.data("$jqmViewController",this);var m=this.loadView;this.viewWatchAttr="jqmCachingView",this.loadView=k}function g(){this.element.remove(),this.scope.$destroy(),this.element.hasClass("ng-animate")&&this.element.triggerHandler("animationend"),this.element.removeClass("ui-page-active")}function h(){var a,b,c;for(a=0;a<this.length;a++)b=this[a],c=b.parentNode,c&&c.removeChild(b)}function i(){var a;this.$$watchers=[],this.$$listeners=[];for(a in this)this.hasOwnProperty(a)&&"$"!==a.charAt(0)&&delete this[a];this.$disconnect()}return{restrict:"A",template:'<div class="ui-mobile-viewport" jqm-class="\'ui-overlay-\'+$theme" jqm-transclude></div>',replace:!0,transclude:!0,controller:["$scope","$element",f],link:function(b,c,d,e){n(a,function(a){a.link(b,c,d,e)})}}}]),k.directive("jqmCheckbox",[function(){return{restrict:"A",transclude:!0,replace:!0,template:"<div jqm-scope-as=\"jqmCheckbox\"   class=\"ui-checkbox\" jqm-class=\"{'ui-disabled': $scopeAs.jqmCheckbox.disabled}\">  <label jqm-class=\"{'ui-checkbox-on': $scopeAs.jqmCheckbox.checked, 'ui-checkbox-off': !$scopeAs.jqmCheckbox.checked,       'ui-first-child': $scopeAs.jqmCheckbox.$position.first, 'ui-last-child': $scopeAs.jqmCheckbox.$position.last,       'ui-mini':$scopeAs.jqmCheckbox.isMini(), 'ui-fullsize':!$scopeAs.jqmCheckbox.isMini(),       'ui-btn-active':$scopeAs.jqmCheckbox.isActive(),       'ui-btn-icon-left': $scopeAs.jqmCheckbox.getIconPos()!='right', 'ui-btn-icon-right': $scopeAs.jqmCheckbox.getIconPos()=='right'}\"       ng-click=\"$scopeAs.jqmCheckbox.toggleChecked()\"       jqm-once-class=\"ui-btn-up-{{$scopeAs.jqmCheckbox.$theme}}\"       class=\"ui-btn ui-btn-corner-all\">    <span class=\"ui-btn-inner\">      <span class=\"ui-btn-text\" ng-transclude></span>      <span jqm-class=\"{'ui-icon-checkbox-on': $scopeAs.jqmCheckbox.checked, 'ui-icon-checkbox-off': !$scopeAs.jqmCheckbox.checked}\"          class=\"ui-icon ui-icon-shadow\"></span>    </span>  </label>  <input type=\"checkbox\" ng-model=\"$scopeAs.jqmCheckbox.checked\"></div>",scope:{disabled:"@",mini:"@",iconpos:"@"},require:["?ngModel","^?jqmControlgroup"],link:function(a,c,d,e){function f(){return a.mini||l&&l.$scope.mini}function g(){return a.iconpos||l&&l.$scope.iconpos}function h(){return l&&"horizontal"===l.$scope.type&&a.checked}function i(){a.disabled||(a.checked=!a.checked,k&&k.$setViewValue(a.checked))}function j(){var c=d.ngTrueValue,e=d.ngFalseValue;b.isString(c)||(c=!0),b.isString(e)||(e=!1),k.$render=function(){a.checked=k.$viewValue},k.$formatters.push(function(a){return a===c}),k.$parsers.push(function(a){return a?c:e})}var k=e[0],l=e[1];a.toggleChecked=i,a.isMini=f,a.getIconPos=g,a.isActive=h,k&&j()}}}]),k.directive("jqmClass",[function(){return{link:function(a,c,d){function e(a){g&&!b.equals(a,g)&&f("removeClass",g),f("addClass",a),g=b.copy(a)}function f(a,d){if(b.isObject(d)&&!b.isArray(d)){var e=[];b.forEach(d,function(a,b){a&&e.push(b)}),d=e}c[a](b.isArray(d)?d.join(" "):d)}var g;a.$watch(d.jqmClass,e,!0),d.$observe("class",function(){var b=a.$eval(d.jqmClass);e(b)})}}}]),k.directive("jqmControlgroup",function(){function a(a){this.$scope=a}return{restrict:"A",replace:!0,transclude:!0,template:"<fieldset class=\"ui-controlgroup\"   jqm-class=\"{'ui-mini': mini, 'ui-shadow': shadow, 'ui-corner-all': corners!='false',   'ui-controlgroup-vertical': type!='horizontal', 'ui-controlgroup-horizontal': type=='horizontal'}\">  <div ng-if=\"legend\" class=\"ui-controlgroup-label\">    <legend>{{legend}}</legend>  </div>  <div class=\"ui-controlgroup-controls\" ng-transclude jqm-position-anchor></div></fieldset>",scope:{mini:"@",iconpos:"@",type:"@",shadow:"@",corners:"@",legend:"@"},controller:["$scope",a]}}),k.directive("jqmFieldcontain",function(){return{restrict:"A",compile:function(a){a[0].className+=" ui-field-contain ui-body ui-br"}}}),k.directive("jqmFlip",[function(){return{restrict:"A",transclude:!0,replace:!0,template:'<div jqm-scope-as="jqmFlip">    <label class="ui-slider" ng-transclude></label>    <div class="ui-slider ui-slider-switch ui-btn-down-{{$scopeAs.jqmFlip.theme}} ui-btn-corner-all"       jqm-class="{\'ui-disabled\': $scopeAs.jqmFlip.disabled,            \'ui-mini\': $scopeAs.jqmFlip.isMini()}"       ng-click="$scopeAs.jqmFlip.toggle()">       <span class="ui-slider-label ui-slider-label-a ui-btn-active ui-btn-corner-all" ng-style="{width: $scopeAs.jqmFlip.onStyle + \'%\'}">{{$scopeAs.jqmFlip.onLabel}}</span>       <span class="ui-slider-label ui-slider-label-b ui-btn-down-{{$scopeAs.jqmFlip.theme}} ui-btn-corner-all" ng-style="{width: $scopeAs.jqmFlip.offStyle + \'%\'}">{{$scopeAs.jqmFlip.offLabel}}</span>        <div class="ui-slider-inneroffset">          <a class="ui-slider-handle ui-slider-handle-snapping ui-btn ui-btn-corner-all ui-btn-up-{{$scopeAs.jqmFlip.theme}} ui-shadow"           title="{{$scopeAs.jqmFlip.toggleLabel}}"           ng-style="{left: $scopeAs.jqmFlip.onStyle + \'%\'}">          <span class="ui-btn-inner"><span class="ui-btn-text"></span></span>          </a>        </div>    </div></div>',scope:{onLabel:"@",onValue:"@",offLabel:"@",offValue:"@",mini:"@",disabled:"@"},require:["?ngModel","^?jqmControlgroup"],link:function(a,c,d,e){function f(){o.$parsers.push(l),m=l(a.onValue),n=l(a.offValue),o.$render=g,o.$viewChangeListeners.push(g)}function g(){h();var b=j();a.toggleLabel=b?a.onLabel:a.offLabel,a.onStyle=b?100:0,a.offStyle=b?0:100}function h(){o.$viewValue||o.$setViewValue(n)}function i(){a.toggle=function(){o.$setViewValue(j()?n:m)}}function j(){return o.$viewValue===m}function k(){return a.mini||p&&p.$scope.mini}function l(a){return"true"===a?!0:"false"===a?!1:a}var m,n,o=e[0],p=e[1];a.theme=a.$theme||"c",a.isMini=k,a.onValue=b.isDefined(d.onValue)?a.onValue:!0,a.offValue=b.isDefined(d.offValue)?a.offValue:!1,f(),i()}}}]),k.directive({jqmHeader:g("$header","ui-header"),jqmFooter:g("$footer","ui-footer"),h1:h,h2:h,h3:h,h4:h,h5:h,h6:h}),k.directive("jqmLiCount",[function(){return{restrict:"A",require:"^jqmLiLink",link:function(a,b,c,d){d.$scope.hasCount=!0,b.addClass("ui-li-count ui-btn-corner-all ui-btn-up-"+a.$theme)}}}]),k.directive({jqmLiEntry:i(!1),jqmLiDivider:i(!0)}),k.directive("jqmLiLink",[function(){function a(a){this.$scope=a}var c=b.isDefined;return{restrict:"A",transclude:!0,replace:!0,template:'<li class="ui-li ui-btn" jqm-scope-as="jqmLiLink"jqm-once-class="{{$scopeAs.jqmLiLink.icon ? \'ui-li-has-arrow ui-btn-icon-\'+$scopeAs.jqmLiLink.iconpos : \'\'}} ui-btn-up-{{$theme}}"  jqm-class="{\'ui-first-child\': $scopeAs.jqmLiLink.$position.first,   \'ui-last-child\': $scopeAs.jqmLiLink.$position.last,   \'ui-li-has-thumb\': $scopeAs.jqmLiLink.hasThumb,   \'ui-li-has-count\': $scopeAs.jqmLiLink.hasCount}">  <div class="ui-btn-inner ui-li">    <div class="ui-btn-text">    <a ng-href="{{$scopeAs.jqmLiLink.link}}" class="ui-link-inherit" ng-transclude>    </a>  </div>  <span ng-show="$scopeAs.jqmLiLink.icon"     class="ui-icon {{$scopeAs.jqmLiLink.icon}}"     jqm-class="{\'ui-icon-shadow\': $scopeAs.jqmLiLink.iconShadow}">    &nbsp;  </span>  </div></li>',controller:["$scope",a],scope:{icon:"@",iconpos:"@",iconShadow:"@",link:"@jqmLiLink"},compile:function(a,b){b.icon=c(b.icon)?b.icon:"ui-icon-arrow-r",b.iconpos=c(b.iconpos)?b.iconpos:"right",b.iconShadow=c(b.iconShadow)?b.iconShadow:!0}}}]),k.directive("jqmLiThumb",[function(){return{restrict:"A",require:"^jqmLiLink",link:function(a,b,c,d){d.$scope.hasThumb=!0,b.addClass("ui-li-thumb")}}}]),k.directive("jqmListview",[function(){var a=b.isDefined;return{restrict:"A",replace:!0,transclude:!0,template:"<ul class=\"ui-listview\" jqm-scope-as=\"jqmListview\"  jqm-class=\"{'ui-listview-inset': $scopeAs.jqmListview.inset,  'ui-corner-all': $scopeAs.jqmListview.inset && $scopeAs.jqmListview.corners,   'ui-shadow': $scopeAs.jqmListview.inset && $scopeAs.jqmListview.shadow}\"  ng-transclude jqm-position-anchor></ul>",scope:{inset:"@"},link:function(b,c,d){b.shadow=a(d.shadow)?"true"===d.shadow:!0,b.corners=a(d.corners)?"true"===d.corners:!0}}}]),k.directive("jqmOnceClass",["$interpolate",function(a){return{link:function(b,c,d){c.addClass(a(d.jqmOnceClass)(b))}}}]),k.directive("jqmPage",["$rootScope","$controller","$scroller",function(){function a(a,b,c){this.$scope=a,this.$element=b;var d=m(b[0].querySelector(".ui-content")),e=c(d);this.scroll=function(a,b){return arguments.length&&(2===arguments.length?e.transformer.easeTo({x:0,y:a},b):e.transformer.setTo({x:0,y:a})),e.transformer.pos},this.scrollHeight=function(){return e.calculateHeight(),e.scrollHeight},this.outOfBounds=function(a){return e.outOfBounds(a)}}return{restrict:"A",template:'<div class="ui-page" jqm-class="\'ui-body-\'+$theme">  <div class="ui-content"    jqm-class="{\'jqm-content-with-header\': $header, \'jqm-content-with-footer\': $footer}"    jqm-transclude>  </div></div>',replace:!0,transclude:!0,require:"^?jqmView",controller:["$scope","$element","$scroller",a],link:function(a,b,c,d){d||b.addClass("ui-page-active jqm-standalone-page")}}}]),k.directive("jqmPanel",function(){var a=b.isDefined;return{restrict:"A",require:"^jqmPanelContainer",replace:!0,transclude:!0,template:"<div class=\"ui-panel ui-panel-closed\"  ng-class=\"'ui-panel-position-'+position+' ui-panel-display-'+display+' ui-body-'+$theme+' ui-panel-animate'\">  <div class=\"ui-panel-inner\" ng-transclude></div></div>",controller:b.noop,scope:{display:"@",position:"@"},compile:function(b,c){return c.display=a(c.display)?c.display:"reveal",c.position=a(c.position)?c.position:"left",function(a,b,c,d){if("left"!==a.position&&"right"!==a.position)throw new Error("jqm-panel position is invalid. Expected 'left' or 'right', got '"+a.position+"'");d.addPanel({scope:a,element:b})}}}}),k.directive("jqmPanelContainer",["$timeout","$transitionComplete","$sniffer",function(a,c,d){function e(e,f){function g(){i(),b.forEach(l,function(b){var c=b.scope.position===e.openPanelName;c?(b.element.removeClass("ui-panel-closed"),a(function(){f.addClass("jqm-panel-container-open"),b.element.addClass("ui-panel-open")},1,!1)):(b.element.removeClass("ui-panel-open ui-panel-opened"),f.removeClass("jqm-panel-container-open"))})}function h(){b.forEach(l,function(a){var b=a.scope.position===e.openPanelName;b?a.element.addClass("ui-panel-opened"):a.element.addClass("ui-panel-closed")})}function i(){var a=j(),b=l[e.openPanelName],c=b&&b.scope;a.addClass("ui-panel-content-wrap ui-panel-animate"),a.toggleClass("ui-panel-content-wrap-open",!!c),a.toggleClass("ui-panel-content-wrap-position-left",!(!c||"left"!==c.position)),a.toggleClass("ui-panel-content-wrap-position-right",!(!c||"right"!==c.position)),a.toggleClass("ui-panel-content-wrap-display-reveal",!(!c||"reveal"!==c.display)),a.toggleClass("ui-panel-content-wrap-display-push",!(!c||"push"!==c.display)),a.toggleClass("ui-panel-content-wrap-display-overlay",!(!c||"overlay"!==c.display))}function j(){return k||(k=m(),n(f.children(),function(a){var b=m(a);b.data("$jqmPanelController")||b.hasClass("ui-panel-dismiss")||k.push(a)})),k}var k,l={};this.addPanel=function(a){l[a.scope.position]=a},this.getPanel=function(a){return l[a]},e.$watch("$scopeAs.pc.openPanelName",g),d.animations?c(f,h):e.$watch("$scopeAs.pc.openPanelName",h)}return{restrict:"A",transclude:!0,replace:!0,template:'<div jqm-scope-as="pc" jqm-transclude class="jqm-panel-container">  <div class="ui-panel-dismiss"    ng-click="$scopeAs.pc.openPanelName = null"     ng-class="$scopeAs.pc.openPanelName ? \'ui-panel-dismiss-open ui-panel-dismiss-\'+$scopeAs.pc.openPanelName : \'\'">  </div></div>',scope:{openPanelName:"=jqmPanelContainer"},controller:["$scope","$element",e]}}]),k.directive("jqmPopup",["$position","$animationComplete","$parse","$rootElement","$timeout","$compile","$rootScope",function(a,c,d,e,f,g){function h(b,e,f){function h(a,c){b.target=a,b.opened=!0,c=c||b.placement,e.css(m(e,a,c)),b.$root.$broadcast("$popupStateChanged",b),"none"===b.animation?l():e.addClass("in").removeClass("out")}function i(a){b.target&&a&&b.target[0]===a[0]&&b.hide()}function k(){b.target=null,b.opened=!1,e.addClass("out").removeClass("in"),b.$root.$broadcast("$popupStateChanged",b),"none"===b.animation?l():e.addClass("out").removeClass("in")}function l(){e.toggleClass("ui-popup-active",b.opened),e.toggleClass("ui-popup-hidden",!b.opened),b.opened||(e.css("left",""),e.css("top",""))}function m(b,c,d){var e=b.prop("offsetWidth"),f=b.prop("offsetHeight"),g=a.position(c),h={};switch(d){case"right":h={top:g.top+g.height/2-f/2,left:g.left+g.width};break;case"bottom":h={top:g.top+g.height,left:g.left+g.width/2-e/2};break;case"left":h={top:g.top+g.height/2-f/2,left:g.left-e};break;case"top":h={top:g.top-f,left:g.left+g.width/2-e/2};break;default:h={top:g.top+g.height/2-f/2,left:g.left+g.width/2-e/2}}return h.top=Math.max(h.top,0),h.left=Math.max(h.left,0),h.top+="px",h.left+="px",h}c(e,l);var n=d(f.jqmPopup);if(!n.assign)throw new Error("jqm-popup expected assignable expression for jqm-popup attribute, got '"+f.jqmPopup+"'");n.assign(b.$parent,b),e.parent().prepend(g(j)(b)),b.show=h,b.hideForElement=i,b.hide=k,b.target=null,b.opened=!1}var i=b.isDefined,j="<div jqm-popup-overlay></div>";return{restrict:"A",replace:!0,transclude:!0,template:'<div jqm-scope-as="jqmPopup" class="ui-popup-container {{$scopeAs.jqmPopup.animation}}" jqm-class="{\'ui-popup-hidden\': !$scopeAs.jqmPopup.opened}">  <div jqm-scope-as="jqmPopup" class="ui-popup ui-body-{{$theme}}"  jqm-class="{\'ui-overlay-shadow\': $scopeAs.jqmPopup.shadow,  \'ui-corner-all\': $scopeAs.jqmPopup.corners}"  ng-transclude></div>',require:"^?jqmPage",scope:{corners:"@",shadow:"@",placement:"@",animation:"@",overlayTheme:"@"},compile:function(a,b){return b.animation=i(b.animation)?b.animation:"fade",b.corners=i(b.corners)?"true"===b.corners:!0,b.shadow=i(b.shadow)?"true"===b.shadow:!0,h}}}]),k.directive("jqmPopupOverlay",function(){return{restrict:"A",replace:!0,template:'<div view-fixed="true" class="ui-popup-screen ui-overlay-{{$scopeAs.jqmPopup.overlayTheme || $scopeAs.jqmPopup.$theme}}"   jqm-class="{\'ui-screen-hidden\': !$scopeAs.jqmPopup.opened, \'in\': $scopeAs.jqmPopup.opened}"  ng-click="$scopeAs.jqmPopup.hide()"></div>'}}),k.directive("jqmPopupTarget",["$parse",function(a){return{restrict:"A",link:function(b,c,d){function e(a){h=a,f(j(b))}function f(a){h&&(a?h.show(c,i):h.opened&&h.hideForElement(c))}function g(a,d){d===h&&j.assign(b,d.opened&&d.target&&d.target[0]===c[0])}var h,i,j=a(d.jqmPopupModel||"$popup");d.$observe("jqmPopupPlacement",function(a){i=a}),b.$watch(d.jqmPopupTarget,e),b.$watch(j,f),b.$on("$popupStateChanged",g)}}}]),k.directive("jqmPositionAnchor",["$rootScope",function(a){return{restrict:"A",link:function(b,c){function d(a,b,c){var d=a[b];a[b]=function(b,e){d.call(a,b,e),c(b,e)}}function e(){e.started||(e.started=!0,a.$evalAsync(function(){f(),e.started=!1}))}function f(){var a,d,e,f=c.children(),h=f.length;for(a=0;h>a;a++)d=f.eq(a),e=d.scope(),e!==b&&(e.$position=g(a,h))}function g(a,b){return{first:0===a,last:a===b-1,middle:a>0&&b-1>a}}var h=c[0];d(h,"appendChild",e),d(h,"insertBefore",e),d(h,"removeChild",e),e()}}}]),k.directive({jqmPullLeftPanel:j("left"),jqmPullRightPanel:j("right")}),k.directive("jqmScopeAs",[function(){return{restrict:"A",compile:function(a,b){var c=b.jqmScopeAs;return{pre:function(a){a.$$scopeAs=c}}}}}]),k.directive("jqmTextarea",["textareaDirective",function(a){return{template:'<textarea    jqm-scope-as="jqmTextarea"    ng-class="{\'ui-disabled mobile-textinput-disabled ui-state-disabled\' : $scopeAs.jqmTextarea.disabled}"    class="ui-input-text ui-corner-all ui-shadow-inset ui-body-{{$scopeAs.jqmTextarea.$theme}}"></textarea>',replace:!0,restrict:"A",require:"?ngModel",scope:{disabled:"@"},link:function(c,d,e,f){function g(){return h.bind("focus",function(){d.addClass("ui-focus")}),h.bind("blur",function(){d.removeClass("ui-focus")}),b.forEach(a,function(a){a.link(c,h,e,f)}),h}var h=b.element(d[0]);g()}}}]),k.directive("jqmTextinput",["inputDirective",function(a){return{template:'<div jqm-scope-as="jqmTextinput"   ng-class="{    \'ui-input-has-clear\': ($scopeAs.jqmTextinput.clearBtn && !$scopeAs.jqmTextinput.isSearch()),    \'ui-disabled\': $scopeAs.jqmTextinput.disabled,    \'ui-mini\': $scopeAs.jqmTextinput.mini,    \'ui-input-search ui-btn-corner-all ui-icon-searchfield\': $scopeAs.jqmTextinput.type === \'search\',    \'ui-input-text ui-corner-all\': !$scopeAs.jqmTextinput.isSearch()}"   class="ui-shadow-inset ui-btn-shadow ui-body-{{$scopeAs.jqmTextinput.$theme}}">  <input type="{{$scopeAs.jqmTextinput.typeValue}}" class="ui-input-text ui-body-{{$scopeAs.jqmTextinput.$theme}}"       ng-class="{\'mobile-textinput-disabled ui-state-disabled\': $scopeAs.jqmTextinput.disabled}" placeholder="{{$scopeAs.jqmTextinput.placeholder}}">  <a ng-if="$scopeAs.jqmTextinput.clearBtn || $scopeAs.jqmTextinput.type === \'search\'" href="#" ng-class="{\'ui-input-clear-hidden\': !getValue()}"     ng-click="clearValue($event)"     class="ui-input-clear ui-btn ui-shadow ui-btn-corner-all ui-fullsize ui-btn-icon-notext"     jqm-once-class="ui-btn-up-{{$theme}}"     title="{{clearBtnTextValue}}">   <span class="ui-btn-inner">           <span class="ui-btn-text" ng-bind="clearBtnTextValue"></span>           <span class="ui-icon ui-icon-delete ui-icon-shadow">&nbsp;</span>         </span>  </a></div>',replace:!0,restrict:"A",require:"?ngModel",scope:{clearBtn:"@",type:"@",clearBtnText:"@",disabled:"@",mini:"@",placeholder:"@"},link:function(c,d,e,f){function g(){var a=c.type||"text";return"search"===a?"text":a}function h(){return"color"===c.type||f&&f.$viewValue}function i(a){a.preventDefault(),l[0].value="",f&&f.$setViewValue("")}function j(){return"search"===c.type}function k(){return l.bind("focus",function(){d.addClass("ui-focus")}),l.bind("blur",function(){d.removeClass("ui-focus")}),b.forEach(a,function(a){a.link(c,l,e,f)}),l}var l=b.element(d[0].getElementsByTagName("input"));c.typeValue=g(),c.clearBtnTextValue=c.clearBtnText||"clear text",k(),c.getValue=h,c.clearValue=i,c.isSearch=j}}}]),k.directive("jqmTheme",[function(){return{restrict:"A",priority:1,scope:!0,compile:function(){return{pre:function(a,b,c){var d=c.jqmTheme;d&&(a.$theme=d)}}}}}]),k.directive("jqmTransclude",function(){return{controller:["$transclude",function(a){this.$transclude=a}],link:function(a,b,c,d){d.$transclude(function(a){b.append(a)})}}}),k.directive("jqmView",["$compile","$templateCache","$http","$q","$route","$controller","$injector","$nextFrame","$sniffer","$animate","$rootScope",function(a,c,d,e,f,g,h,i,j,k,l){function r(a,c,d,e){function i(){a.$watch(d[e.viewWatchAttr],r,!!d.viewDeepWatch)}function m(){function b(){r(f.current)}a.$on("$routeChangeSuccess",b),b()}function r(a){a=a||{};var b=++B,c=a.locals?a.locals.$template:a.template,d=o(a)&&a||a.loadedTemplateUrl||a.templateUrl;d||c?e.loadView(d,c,y).then(function(c){b===B&&s(a,c)}):(t(null,y),y=null)}function s(b,c){var d,e=b.locals||{},f=w(b,c),h=q.indexOf(f.replace(/^page-/,""))>-1;h?v(f,b.back,c,y):t(c,y),c.scope.$reconnect(),e.$scope=c.scope,b.controller&&(d=g(b.controller,e),b.controllerAs&&(c.scope[b.controllerAs]=d),c.element.data("$ngControllerController",d)),l.$broadcast("$viewContentLoaded",c.element),c.scope.$eval(A),a.$theme=c.element.scope().$theme,y=c}function t(a,b){b&&b.clear(),a&&(c.append(a.element),a.element.addClass("ui-page-active"))}function v(b,d,e,f){function g(){z=null,f&&(f.element.removeClass(j),f.clear()),e.element.removeClass(j),e.element.addClass("ui-page-active"),c.removeClass(i)}var h=u[b.replace(/^page-/,"")],i="ui-mobile-viewport-transitioning viewport-"+b.replace("page-",""),j=b+(d?" reverse":"");e.element.addClass(j),f&&f.element.addClass(j),z&&z.element.triggerHandler("animationend"),z=f,c.addClass(i),h&&f?(c.append(e.element),k.leave(f.element,function(){a.$apply(function(){k.enter(e.element,c,null,g)})})):(k.enter(e.element,c,null,g),f&&k.leave(f.element))}function w(c,d){var e=c.back,f="";return e&&(f=y&&y.animationName||f),f||(c.animation?f=b.isFunction(c.animation)||p(c.animation)?h.invoke(c.animation,null,{$scope:a,$routeParams:c.params}):c.animation:n((d.element[0].className||"").split(" "),function(a){"page-"===a.substring(0,5)&&h.has("."+a+"-animation")&&(f=f||a)})),x(f)}function x(a){return a&&j.animations?j.cssTransform3d?a:"page-fade":""}var y,z,A=d.onload||"",B=0;d[e.viewWatchAttr]?i():m()}function s(b,f){function g(a,b){return b?e.when(i(b)):h(a)}function h(a){return d.get(a,{cache:c}).then(function(a){return i(a.data)})}function i(c){var d=b.$new(),e=m("<div></div>").html(c).children();f.append(e);var g={scope:d,element:a(e)(d),clear:t};return d.$disconnect(),n(e,function(a){a.parentNode.removeChild(a)}),g}this.$scope=b,this.$element=f,this.loadView=g,this.fetchView=h,this.viewWatchAttr="jqmView"}function t(){this.element.remove(),this.element=null,this.scope.$destroy(),this.scope=null}var u={fade:!0,pop:!0,slidefade:!0,slidedown:!0,slideup:!0,flip:!0,turn:!0,flow:!0};return{restrict:"A",template:'<div class="ui-mobile-viewport" jqm-class="\'ui-overlay-\'+$theme" jqm-transclude></div>',replace:!0,transclude:!0,controller:["$scope","$element",s],link:r}}]),k.factory("$anchorScroll",["$hideAddressBar",function(b){function c(){a.setTimeout(b,50)}return c}]),k.run(["$anchorScroll","$rootScope",function(a,b){b.$on("$orientationChanged",function(){a()})}]),k.factory("$animationComplete",["$sniffer",function(a){return function(c,d,e){function f(){b.forEach(g.split(" "),function(a){c.unbind(a,d)})}var g="animationend";if(!a.animations)throw new Error("Browser does not support css animations.");a.vendorPrefix&&(g+=" "+a.vendorPrefix.toLowerCase()+"AnimationEnd");var h=d;return e&&(d=function(){f(),h()}),b.forEach(g.split(" "),function(a){c.bind(a,d)}),f}}]),k.config(["$provide",function(a){function b(a){var b=a.url;return a.url=function(){var a=b.apply(this,arguments);return 0===arguments.length&&(a=a.replace(/%23/g,"#"),a=a.replace(/ /g,"%20")),a},a}a.decorator("$browser",["$delegate",b])}]),k.factory("$hideAddressBar",["$window","$rootElement","$orientation",function(a,c,d){function e(a){a&&a()}function f(c){function e(){a.removeEventListener("scroll",e,!1),a.clearTimeout(h),n[f]||(n[f]=i(),j(n[f])),b.isDefined(k)||(1===a.pageYOffset?(k=0,a.scrollTo(0,0)):k=1),c&&c()}var f=d(),g=n[f];g||(g=m),j(g),b.isDefined(k)?a.scrollTo(0,k):a.scrollTo(0,1),a.addEventListener("scroll",e,!1);var h=a.setTimeout(e,400)}function g(){return Math.max(i(),h())>l}function h(){return a.innerWidth}function i(){return a.innerHeight}function j(a){c.css("height",a+"px")}var k,l=500,m=800,n={};return!a.addEventListener||g()?e:f}]),k.config(["$provide",function(a){var b=!1;a.decorator("$location",["$delegate","$browser","$history","$rootScope",function(a,c,d,e){function f(){var f=c.url;c.url=function(c,g){return c&&(d.onUrlChangeProgrammatically(a.url(),g),b=!0,e.$evalAsync(function(){b=!1})),f.apply(this,arguments)}}return f(),e.$on("$locationChangeSuccess",function(){b||d.onUrlChangeBrowser(a.url())}),d.onUrlChangeProgrammatically(a.url()||"/",!1),a}])}]),k.factory("$history",["$window","$timeout",function(a,b){function c(c){b(function(){a.history.go(c)},20,!1)}function d(a){var b,c=g.urlStack;for(b=0;b<c.length;b++)if(c[b].url===a)return b;return-1}function e(a){var b=g.activeIndex;g.activeIndex=d(a),-1===g.activeIndex?f(a,!1):g.previousIndex=b}function f(a,b){var c=g.urlStack[g.activeIndex];c&&c.url===a||(g.previousIndex=g.activeIndex,b||g.activeIndex++,g.urlStack.splice(g.activeIndex,g.urlStack.length-g.activeIndex),g.urlStack.push({url:a}))}var g={go:c,urlStack:[],indexOf:d,activeIndex:-1,previousIndex:-1,onUrlChangeBrowser:e,onUrlChangeProgrammatically:f};return g}]),k.run(["jqmButtonToggler","$rootElement",function(a,b){a(b)}]),k.factory("jqmButtonToggler",function(){return function(a){function c(a,b){var c=a.scope().$theme;a.toggleClass("ui-btn-down-"+c,b),a.toggleClass("ui-btn-up-"+c,!b)}function d(a,b){var c=a.scope().$theme;a.toggleClass("ui-btn-hover-"+c,b)}function e(a,b){for(var c=5,d=a;d.length&&c--;){if(d.hasClass(b))return d;d=d.parent()}return null}var f={};return f.$mousedown=function(a){function d(){c(h,!1),b.forEach(f.split(" "),function(a){g.unbind(a,d)})}var f="mousedown"===a.type?"mouseup mousemove":"touchmove touchend touchcancel",g=b.element(a.target),h=e(g,"ui-btn-up-"+g.scope().$theme);h&&(c(h,!0),g.bind(f,d))},f.$mouseover=function(a){function c(){d(g,!1),f.unbind("mouseout",c)}var f=b.element(a.target),g=e(f,"ui-btn");g&&!g.hasClass("ui-btn-down-"+f.scope().$theme)&&(d(g,!0),f.bind("mouseout",c))},a[0].addEventListener("touchstart",f.$mousedown,!0),a[0].addEventListener("mousedown",f.$mousedown,!0),a[0].addEventListener("mouseover",f.$mouseover,!0),f}}),k.provider("jqmConfig",function(){function a(a){return a&&(d=a),d}function b(a){return a&&(e=a),e}function c(){return{primaryTheme:d,secondaryTheme:e}}var d="c",e="a";return{primaryTheme:a,secondaryTheme:b,$get:c}}),k.factory("jqmViewCache",["$cacheFactory",function(a){return a("jqmCachingView")}]),k.factory("$loadDialog",["$rootElement","$rootScope",function(a,c){function d(a){var b=k[k.length-1];b.callback&&c.$apply(function(){b.callback.apply(this,arguments)}),a.preventDefault()}function e(){if(k.length>0){var b=k[k.length-1],c=b.msg;m.removeClass("ui-loader-verbose ui-loader-default"),c?(m.addClass("ui-loader-verbose"),m.find("h1").text(c)):m.addClass("ui-loader-default"),a.addClass(l)}else a.removeClass(l)}function f(){var a,b;"string"==typeof arguments[0]&&(a=arguments[0]),"function"==typeof arguments[0]&&(b=arguments[0]),"function"==typeof arguments[1]&&(b=arguments[1]),k.push({msg:a,callback:b}),e()}function g(){k.pop(),e()}function h(a,b){a.then(b,b)}function i(a,b){f(b),h(a,function(){g()})}function j(a,b,c){f(c,function(){a.reject(b)}),h(a.promise,function(){g()})}a.clone();var k=[],l="ui-loading",m=b.element("<div class='ui-loader ui-corner-all ui-body-d'>   <span class='ui-icon ui-icon-loading'></span>   <h1></h1></div>");return a.append(m),m.bind("click",d),{show:f,hide:g,waitFor:i,waitForWithCancel:j}}]),k.factory("$orientation",["$window","$rootScope",function(a,c){function d(){function b(){f()&&c.$apply(function(){c.$broadcast("$orientationChanged",e())})}a.addEventListener("resize",b,!1)}function e(){var b=a.innerWidth,c=a.innerHeight;return 200>c?h:b>c?i:h}function f(){var a=e();return g===a?!1:(g=a,!0)}if(!a.addEventListener)return b.noop;var g=e(),h="vertical",i="horizontal";return d(),e}]),k.config(["$provide",function(a){function c(a){return function(c){function d(a,b){return f(g,a,b)}function e(a,b){return f(h,a,b)}function f(a,b,c){for(var d={},e=!0;b&&b.hasOwnProperty("$$scopeAs");)d[b.$$scopeAs]=b,b=b.$parent,e=!1;if(e)return a(b,c);b.$scopeAs=d;try{return a.call(this,b,c)}finally{delete b.$scopeAs}}if(!b.isString(c))return a(c);var g=a(c),h=g.assign;return h&&(d.assign=e),d}}a.decorator("$parse",["$delegate",c])}]),k.run(["$window",function(a){b.element(a.document.documentElement).addClass("ui-mobile")}]),k.config(["$provide",function(a){a.decorator("$route",["$delegate","$rootScope","$history",function(a,b,c){return b.$on("$routeChangeStart",function(a,b){b&&(b.back=c.activeIndex<c.previousIndex)
}),a}])}]),k.run(["$rootElement","$rootScope",function(a,b){a.bind("$destroy",function(){b.$destroy(),b.$$watchers=[],b.$$listeners=[]})}]),k.config(["$provide",function(a){function b(a){return a.$disconnect=function(){if(this.$root!==this){var a=this.$parent;this.$$disconnected=!0,a.$$childHead===this&&(a.$$childHead=this.$$nextSibling),a.$$childTail===this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$$nextSibling=this.$$prevSibling=null}},a.$reconnect=function(){if(this.$root!==this){var a=this;if(a.$$disconnected){var b=a.$parent;a.$$disconnected=!1,a.$$prevSibling=b.$$childTail,b.$$childHead?(b.$$childTail.$$nextSibling=a,b.$$childTail=a):b.$$childHead=b.$$childTail=a}}},a}function c(a,b){function c(a,b){a.$theme=b;var d=a.$new;a.$new=function(a){var b=d.apply(this,arguments);return a&&c(b,this.$theme),b}}return c(a,b.primaryTheme),a}a.decorator("$rootScope",["$delegate",b]),a.decorator("$rootScope",["$delegate","jqmConfig",c])}]),function(){/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */
a.matchMedia=a.matchMedia||function(a){var b,c=a.documentElement,d=c.firstElementChild||c.firstChild,e=a.createElement("body"),f=a.createElement("div");return f.id="mq-test-1",f.style.cssText="position:absolute;top:-100em",e.style.background="none",e.appendChild(f),function(a){return f.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>',c.insertBefore(e,d),b=42===f.offsetWidth,c.removeChild(e),{matches:b,media:a}}}(a.document)}(),k.config(["$provide",function(c){c.decorator("$sniffer",["$delegate","$window","$document",function(c,d,e){function f(b){return a.matchMedia(b).matches}function g(){var b="transform-3d",c=["Webkit","Moz","O"],e=f("(-"+c.join("-"+b+"),(-")+"-"+b+"),("+b+")");if(e)return!!e;var g=d.document.createElement("div"),h={MozTransform:"-moz-transform",transform:"transform"};i.append(g);for(var j in h)void 0!==g.style[j]&&(g.style[j]="translate3d( 100px, 1px, 1px )",e=a.getComputedStyle(g).getPropertyValue(h[j]));return!!e&&"none"!==e}function h(){c.transitions&&c.animations||(c.transitions=b.isString(e[0].body.style.webkitTransition),c.animations=b.isString(e[0].body.style.webkitAnimation),(c.animations||c.transitions)&&(c.vendorPrefix="webkit",c.cssTransform3d=!0))}var i=b.element("<body>");return b.element(d.document.body).prepend(i),c.cssTransform3d=g(),h(),i.remove(),c}])}]),k.factory("$transitionComplete",["$sniffer",function(a){return function(c,d,e){function f(){b.forEach(g.split(" "),function(a){c.unbind(a,d)})}var g="transitionend";if(!a.transitions)throw new Error("Browser does not support css transitions.");a.vendorPrefix&&(g+=" "+a.vendorPrefix.toLowerCase()+"TransitionEnd");var h=d;return e&&(d=function(){f(),h()}),b.forEach(g.split(" "),function(a){c.bind(a,d)}),f}}]),b.element(a.document).find("head").append('<style type="text/css">*{-webkit-backface-visibility:hidden}html,body{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ui-mobile,.ui-mobile html,.ui-mobile body{height:100%;margin:0}@-webkit-keyframes still{from{opacity:.99}to{opacity:1}}@-moz-keyframes still{from{opacity:.99}to{opacity:1}}@keyframes still{from{opacity:.99}to{opacity:1}}.modal.out{-webkit-animation:still 450ms;-moz-animation:still 450ms;animation:still 450ms;z-index:-1}.modal.in.reverse{-webkit-animation:still 450ms;-moz-animation:still 450ms;animation:still 450ms;z-index:-1}.modal.in{-webkit-transform:translateY(0);-webkit-animation:slideinfrombottom 450ms;-moz-transform:translateY(0);-moz-animation:slideinfrombottom 450ms;transform:translateY(0);animation:slideinfrombottom 450ms;z-index:0}.modal.out.reverse{-webkit-transform:translateY(0);-webkit-animation:slideouttobottom 450ms;-moz-transform:translateY(0);-moz-animation:slideouttobottom 450ms;transform:translateY(0);animation:slideouttobottom 450ms;z-index:0}.ui-footer{position:absolute;bottom:0;width:100%;z-index:1}.ui-header{position:absolute;top:0;width:100%;z-index:1}.ui-mobile .ui-page{height:100%;min-height:0;overflow:hidden}.ui-content{position:relative;margin:0;padding:0}.ui-content.jqm-content-with-header{top:42px}.ui-content.jqm-content-with-footer{bottom:43px}.jqm-standalone-page{display:block;position:relative}.ui-panel{position:absolute}.ui-panel-closed{display:none}.ui-panel-content-wrap{height:100%}.jqm-panel-container{position:relative;width:100%;height:100%}.ui-panel-dismiss-open{-webkit-transition:-webkit-transform 350ms ease;-moz-transition:-moz-transform 350ms ease;transition:transform 350ms ease;-webkit-transform:translateX(0em);-moz-transform:translateX(0em);transform:translateX(0em);display:block}.jqm-panel-container-open .ui-panel-dismiss-open.ui-panel-dismiss-left{-webkit-transform:translateX(17em);-moz-transform:translateX(17em);transform:translateX(17em)}.jqm-panel-container-open .ui-panel-dismiss-open.ui-panel-dismiss-right{-webkit-transform:translateX(-17em);-moz-transform:translateX(-17em);transform:translateX(-17em)}.ui-mobile-viewport{position:relative;height:100%}</style>')}(window,angular),function(){angular.module("ajoslin.scrolly",["ajoslin.scrolly.scroller","ajoslin.scrolly.directives"]);var a=angular.element,b=angular.noop,c=angular.isDefined,d=angular.copy,e=angular.forEach,f=angular.isString,g=angular.extend;angular.module("ajoslin.scrolly.directives",["ajoslin.scrolly.scroller"]).directive("scrollyScroll",["$scroller","$document",function(b){return a(document.body).bind("touchmove",function(a){a.preventDefault()}),{restrict:"A",link:function(a,c){new b(c)}}}]),angular.module("ajoslin.scrolly.directives").directive("scrollyDraggerIgnore",[function(){return{restrict:"A",controller:b}}]),angular.module("ajoslin.scrolly.desktop",[]).provider("$desktopScroller",[function(){var b={38:150,40:-150,32:-600};this.key=function(a,c){return arguments.length>1&&(b[a]=c),b[a]};var c=.5;this.mouseWheelDistanceMulti=function(a){return arguments.length&&(c=a),c},this.$get=function(d){function e(c,g){function h(b){var d=b.wheelDeltaY*e.mouseWheelDistanceMulti;if(d)for(var f=a(b.target);f.length;){if(f[0]===c.parent()[0]){i(d),b.preventDefault();break}f=f.parent()}}function i(a){g.calculateHeight();var b=g.transformer.pos.y+a;g.transformer.setTo({y:f(-g.scrollHeight,b,0)})}function j(a){if(!(document.activeElement&&document.activeElement.tagName&&document.activeElement.tagName.match(l))){var c=b[a.keyCode||a.which];if(c){if(a.preventDefault(),g.transformer.changing)return;g.calculateHeight();var d=g.transformer.pos.y+c;if(d=f(-g.scrollHeight,d,0),d!==g.transformer.pos.y){var h=d-g.transformer.pos.y,i=Math.abs(h*e.easeTimeMulti);g.transformer.easeTo({y:d},i)}}}}var k={};c.bind("$destroy",function(){d.unbind("mousewheel",h),d.unbind("keydown",j)}),d.bind("mousewheel",h),d.bind("keydown",j);var l=/INPUT|TEXTAREA|SELECT/i;return k}function f(a,b,c){return Math.min(Math.max(a,b),c)}return e.mouseWheelDistanceMulti=c,e.easeTimeMulti=.66,e}}]),angular.module("ajoslin.scrolly.dragger",[]).provider("$dragger",[function(){var c=!0;this.shouldBlurOnDrag=function(a){return arguments.length&&(c=!!a),c};var f=40;this.allowedDragAngle=function(a){return arguments.length&&(f=a),f};var h=300;this.maxTimeMotionless=function(a){return arguments.length&&(h=a),h},this.$get=["$window","$document",function(){function i(i,m){function n(b){b=b.originalEvent||b;var d=a(b.target||b.srcElement);if(!d.controller("scrollyDraggerIgnore")){m.stopPropagation&&b.stopPropagation();var e=b.touches?b.touches[0]:b;c&&v(d)&&document.activeElement&&document.activeElement.blur(),w.state=s({x:e.pageX,y:e.pageY}),q("start",!0)}}function o(a){if(a=a.originalEvent||a,w.state.active){a.preventDefault(),m.stopPropagation&&a.stopPropagation();var b=a.touches?a.touches[0]:a;b={x:b.pageX,y:b.pageY};var c=Date.now()-w.state.updatedAt;c>h&&(w.state=s(b)),t(w.state,b);var d=r(b,w.state.origin)%180;w.state.direction=90+f>d&&d>90-f?j:f>d&&d>-f?k:l,q("move")}}function p(a){w.state.active&&(a=a.originalEvent||a,m.stopPropagation&&a.stopPropagation(),w.state.updatedAt=Date.now(),w.state.stopped=w.state.updatedAt-w.state.startedAt>h,q("end",!0),w.state={})}function q(a,b){var c=d(w.state);e(x,function(d,f){(b||!c.direction||c.direction==f||f==l)&&e(d,function(b){b(a,c)})})}function r(a,b){var c=Math.atan2(-(b.y-a.y),b.x-a.x);0>c&&(c+=2*Math.PI);var d=Math.floor(c*(180/Math.PI)-180);return 0>d&&d>-180&&(d=360-Math.abs(d)),Math.abs(d)}function s(a){return{origin:{x:a.x,y:a.y},pos:{x:a.x,y:a.y},distance:{x:0,y:0,magnitude:0},delta:{x:0,y:0,magnitude:0},startedAt:Date.now(),updatedAt:Date.now(),stopped:!1,active:!0}}function t(a,b){a.delta=u(b,a.pos),a.distance=u(b,a.origin),a.pos={x:b.x,y:b.y},a.updatedAt=Date.now()}function u(a,b){var c={x:a.x-b.x,y:a.y-b.y};return c.magnitude=Math.sqrt(c.x*c.x+c.y*c.y),c}function v(a){return a&&("INPUT"===a.tagName||"SELECT"===a.tagName||"TEXTAREA"===a.tagName)}m=g({mouse:!0,touch:!0,stopPropagation:!1},m);var w={};i[0];var x={};x[j]=[],x[k]=[],x[l]=[];var y=i.data("$scrolly.dragger");return y?y:(i.data("$scrolly.dragger",w),w.state={},w.addListener=function(a,c){1===arguments.length&&(c=a,a=l),x[a].push(c||b)},w.removeListener=function(a,b){1===arguments.length&&(b=a,a=l);var c=x[a],d=c&&c.indexOf(b);c&&d>-1&&c.splice(d,1)},m.touch&&(i.bind("touchstart",n),i.bind("touchmove",o),i.bind("touchend touchcancel",p)),m.mouse&&(i.bind("mousedown",n),i.bind("mousemove",o),i.bind("mouseup mouseout",p)),i.bind("$destroy",function(){delete x[j],delete x[k],delete x[l]}),w)}var j=i.DIRECTION_VERTICAL=1,k=i.DIRECTION_HORIZONTAL=2,l=i.DIRECTION_ANY=3;return i}]}]),angular.module("ajoslin.scrolly.scroller",["ajoslin.scrolly.dragger","ajoslin.scrolly.transformer","ajoslin.scrolly.desktop"]).provider("$scroller",[function(){function a(a){return 0|a}var b=.001;this.decelerationRate=function(a){return arguments.length&&(b=a),b};var c=!0;this.supportDesktop=function(a){return c=!!a};var d=.5;this.pastBoundaryScrollRate=function(a){return arguments.length&&(d=a),d};var e=10;this.minDistanceForAcceleration=function(a){return arguments.length&&(e=a),e};var f=40;this.bounceBuffer=function(a){return arguments.length&&(f=a),f};var g=200,h=1.5;this.bounceBackMinTime=function(a){return arguments.length&&(g=a),g},this.bounceBackDistanceMulti=function(a){return arguments.length&&(h=a),h},this.$get=["$dragger","$transformer","$window","$document","$desktopScroller",function(d,i,j,k,l){function m(a){return Math.abs(a)*h+g}function n(g){function h(b,c){switch(b){case"start":q.changing&&q.stop(),k.calculateHeight();break;case"move":var d=q.pos.y+c.delta.y;k.outOfBounds(d)&&(d=q.pos.y+a(.5*c.delta.y)),q.setTo({y:d});break;case"end":if(k.outOfBounds(q.pos.y)||c.stopped)k.checkBoundaries();else if(Math.abs(c.distance.y)>=e){var f=k.momentum(c);f.position!==q.pos.y&&q.easeTo({y:f.position},f.time,k.checkBoundaries)}}}var k={},o=g.data("$scrolly.scroller");if(o)return o;g.data("$scrolly.scroller",k);var p=g[0],q=k.transformer=new i(g),r=k.dragger=new d(g,{touch:!0,mouse:!1});return c&&new l(g,k),r.addListener(d.DIRECTION_VERTICAL,h),g.bind("$destroy",function(){r.removeListener(d.DIRECTION_VERTICAL,h)}),k.calculateHeight=function(){var a=n.getContentRect(p),b=j.innerHeight;return k.scrollHeight=a.height<b?0:a.height-b+a.top+a.bottom,k.scrollHeight},k.calculateHeight(),k.outOfBounds=function(a){return a>0?a:a<-k.scrollHeight?a+k.scrollHeight:!1},k.checkBoundaries=function(){k.calculateHeight();var a=k.outOfBounds(q.pos.y);if(a){var b=a>0?0:-k.scrollHeight;q.easeTo({y:b},m(a))}},k.momentum=function(c){k.calculateHeight();var d,e=Math.abs(c.distance.y)/(c.updatedAt-c.startedAt),g=q.pos.y+e*e/(2*b)*(c.distance.y<0?-1:1),h=e/b,i=k.outOfBounds(g);return i&&(i>0?g=Math.min(i,f):0>i&&(g=Math.max(g,-(k.scrollHeight+f))),d=Math.abs(g-q.pos.y),h=d/e),{position:g,time:a(h)}},k}return n.getContentRect=function(a){var b=window.getComputedStyle(a),c=parseInt(b.getPropertyValue("margin-top"),10)+parseInt(b.getPropertyValue("padding-top"),10),d=parseInt(b.getPropertyValue("margin-bottom"),10)+parseInt(b.getPropertyValue("padding-bottom"),10),e=parseInt(b.getPropertyValue("top"),10),f=parseInt(b.getPropertyValue("bottom"),10),g=parseInt(b.getPropertyValue("height"),10);return{top:c+(isNaN(e)?0:e),bottom:d+(isNaN(f)?0:f),height:g}},n}]}]),angular.module("ajoslin.scrolly.transformer",[]).factory("$nextFrame",["$window",function(a){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||function(b){return a.setTimeout(b,17)}}]).provider("$transformer",[function(){var a="cubic-bezier(0.25, 0.46, 0.45, 0.94)";this.timingFunction=function(b){return arguments.length&&(a=b),a},this.$get=["$window","$nextFrame","$sniffer","$document",function(d,e,g,h){function i(b){return n+" "+b+"ms "+a}function j(a,b){return"translate3d("+(a||0)+"px,"+(b||0)+"px,0)"}function k(a){function f(){g.changing&&g.stop(l)}var g={},h=a[0],k=a.data("$scrolly.transformer");if(k)return k;a.data("$scrolly.transformer",g),a.bind("$destroy",function(){g.pos=null,l=null}),g.pos={x:0,y:0},g.updatePosition=function(){var b=d.getComputedStyle(a[0]),c=(b[m]||"").replace(/[^0-9-.,]/g,"").split(",");return c.length>1&&(g.pos.x=parseInt(c[4],10),g.pos.y=parseInt(c[5],10)),g.pos},g.updatePosition();var l;return a.bind(p,f),g.stop=function(a){h.style[o]="",g.updatePosition(),g.changing=!1,e(function(){g.setTo(g.pos),(a||b)()})},g.easeTo=function(b,c,d){function f(){a.css(o,i(c)),g.changing=!0,l=d,e(function(){g.setTo(b)})}if(!angular.isNumber(c)||0>c)throw new Error("Expected a positive number for time, got '"+c+"'.");g.changing?g.stop(f):f()},g.setTo=function(b){c(b.x)&&(g.pos.x=b.x),c(b.y)&&(g.pos.y=b.y),a.css(m,j(g.pos.x,g.pos.y))},g.clear=function(){a.css(m,""),a.css(o,"")},g}g.vendorPrefix||f(h[0].body.style.webkitTransition)&&(g.vendorPrefix="webkit");var l=g.vendorPrefix;l&&"Moz"!==l&&"O"!==l&&(l=l.substring(0,1).toLowerCase()+l.substring(1));var m=l?l+"Transform":"transform",n=l?"-"+l.toLowerCase()+"-transform":"transform",o=l?l+"Transition":"transition",p=l?l+"TransitionEnd":"transitionend";return k.transformProp=m,k.transformPropDash=n,k.transitionProp=o,k.transitionEndProp=p,k}]}])}(),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);return f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft),{width:b.prop("offsetWidth"),height:b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:c.prop("offsetWidth"),height:c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].body.scrollTop||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].body.scrollLeft||a[0].documentElement.scrollLeft)}}}}]);